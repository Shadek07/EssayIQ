<div class="container">
    <h1>List of Submissions</h1>
    <!-- <h1><small>You can create, update or delete assignments</small></h1> -->
    <div class="row">
        <div class="col-sm-12">
            <div class="row">
                <div class="col-xs-12">
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="search">Search:</label>
                            <input ng-model="q" id="search" class="form-control" placeholder="Filter text">
                        </div>
                        <div class="col-xs-4">
                            <label for="search">items per page:</label>
                            <input type="number" min="1" max="100" class="form-control" ng-model="pageSize">
                        </div>
                        <div class="col-xs-4">
                            <!-- <h3>Concepts: {{ currentPage }}</h3> -->
                            <a class="btn btn-default pull-right" ng-href="/#/submissions/new"><i class="fa fa-plus"></i>
                                Submit new essay
                            </a>
                        </div>
                    </div>
                    <br>
                    <!--                     <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model=""> Show only my concepts
                        </label>
                    </div> -->
                    <div class="panel panel-default">
                        <div class="panel-body">
                              <h3> Assignment-wise whole analysis: </h3>
                              <select ng-model="selectedAssignment">
                                <option value="">--Select Assignment--</option>
                                <option ng-repeat="assignment in assignments" value="{{assignment.assignmentID}}">{{assignment.name}}</option>
                              </select>
                              <br> <br> <br> <br>
                        </div>
                        <a class="btn btn-default" ng-if="checkIfAssignmentSelected()" ng-href="{{'/#/wholesubmissions/'+ selectedAssignment}}"><i class="fa fa-plus"></i>
                                Analyze whole submissions
                        </a>
                        <a class="btn btn-default" ng-if="checkIfAssignmentSelected()" ng-href="{{'/#/annotatewholesubmissions/'+ selectedAssignment}}"><i class="fa fa-plus"></i>
                                Annotate whole submissions
                        </a>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <!--                             <ul>
                                <li dir-paginate="concept in concepts | filter:q | itemsPerPage: pageSize" current-page="currentPage" pagination-id="drinksPagination">{{ concept }}</li>

                            </ul> -->
                            <dl>
                                <dt dir-paginate-start="submission in submissions | filter:q | itemsPerPage: pageSize" current-page="currentPage" pagination-id="drinksPagination">
                                </dt>
                                {{submission}}
                                <dd dir-paginate-end>
                                    <a class="btn btn-default pull-right" ng-href="{{'/#/submissions/'+submission.submissionID + '/'+submission.assignmentID}}"><i class="fa fa-plus"></i>
                                        Analyze this essay
                                    </a>
                                    <dl class="dl-horizontal">
                                         <dt>Submission Name </dt>
                                         <dd>{{submission.submissionName}}</dd>
                                         <dt>Submitted for </dt>
                                        <dd>Assignment: {{submission.name}}</dd>
                                        <dt>Submitted Essay</dt>
                                        <dd> {{submission.submissionBody}}</dd>
                                    </dl>
                                    <div>
                                        <hr>
                                    </div>
                                </dd>
                            </dl>
                        </div>
                    </div>
                    <div class="text-center">
                        <!-- <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="views/dirPagination.tpl.html" pagination-id="drinksPagination"></dir-pagination-controls> -->
                        <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" pagination-id="drinksPagination"></dir-pagination-controls>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/ng-template" id="deleteModal.html">
    <div class="modal-header">
        <h4 class="modal-title">Are you sure to delete this assignment? </h4>
    </div>
    <div class="modal-body">
        <h3> {{assignmentName}} </h3>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</script>
<script type="text/ng-template" id="cloneModal.html">
    <div class="modal-header">
        <h3 class="modal-title">Please enter the name for new assignment</h3>
    </div>
    <div class="modal-body">
        New name:
        <input type="text" ng-model='assignmentName' class="form-control" select-on-click placeholder={{assignmentName}}>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</script>
